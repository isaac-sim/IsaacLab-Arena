GR1 manipulation workflow:

./docker/run_docker.sh
export DATASET_DIR=/datasets/isaaclab_arena/static_manipulation_tutorial
export MODELS_DIR=/models/isaaclab_arena/static_manipulation_tutorial



Env setup and validation:

python isaaclab_arena/scripts/replay_demos.py \
  --device cpu \
  --enable_cameras \
  --dataset_file "${DATASET_DIR}/arena_gr1_manipulation_dataset_generated.hdf5" \
  gr1_open_microwave \
  --embodiment gr1_pink



Trying out different envs:

python isaaclab_arena/scripts/record_demos.py \
  --device cpu \
  --dataset_file $DATASET_DIR/env_test.hdf5 \
  --num_demos 10 \
  --num_success_steps 2 \
  kitchen_pick_and_place \
  --teleop_device avp_handtracking \
  --object mustard_bottle \
  --embodiment gr1_pink

  python isaaclab_arena/scripts/record_demos.py \
  --device cpu \
  --dataset_file $DATASET_DIR/env_test.hdf5 \
  --num_demos 10 \
  --num_success_steps 2 \
  kitchen_pick_and_place \
  --teleop_device keyboard \
  --object cracker_box \
  --embodiment franka



Teleoperation data collection:

In a terminal outside of Isaac Lab - Arena container: 

cd submodules/IsaacLab

docker run -it --rm --name cloudxr-runtime \
  --user $(id -u):$(id -g) \
  --gpus=all \
  -e "ACCEPT_EULA=Y" \
  --mount type=bind,src=$(pwd)/openxr,dst=/openxr \
  -p 48010:48010 \
  -p 47998:47998/udp \
  -p 47999:47999/udp \
  -p 48000:48000/udp \
  -p 48005:48005/udp \
  -p 48008:48008/udp \
  -p 48012:48012/udp \
  nvcr.io/nvidia/cloudxr-runtime:5.0.0

python isaaclab_arena/scripts/record_demos.py \
  --device cpu \
  --dataset_file $DATASET_DIR/arena_gr1_manipulation_dataset_recorded_live.hdf5 \
  --num_demos 10 \
  --num_success_steps 2 \
  gr1_open_microwave \
  --teleop_device avp_handtracking



Replay teleop data:

python isaaclab_arena/scripts/replay_demos.py \
  --device cpu \
  --enable_cameras \
  --dataset_file "${DATASET_DIR}/arena_gr1_manipulation_dataset_recorded_live.hdf5" \
  gr1_open_microwave \
  --embodiment gr1_pink



Data generation:

python isaaclab_arena/scripts/annotate_demos.py \
  --device cpu \
  --input_file $DATASET_DIR/arena_gr1_manipulation_dataset_recorded_live.hdf5 \
  --output_file $DATASET_DIR/arena_gr1_manipulation_dataset_annotated_live.hdf5 \
  --enable_pinocchio \
  --mimic \
  gr1_open_microwave

python isaaclab_arena/scripts/generate_dataset.py \
  --device cpu \
  --generation_num_trials 50 \
  --num_envs 10 \
  --input_file $DATASET_DIR/arena_gr1_manipulation_dataset_annotated_live.hdf5 \
  --output_file $DATASET_DIR/arena_gr1_manipulation_dataset_generated_live.hdf5 \
  --enable_pinocchio \
  --enable_cameras \
  --mimic \
  gr1_open_microwave